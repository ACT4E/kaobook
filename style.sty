\ProvidesPackage{style}

% GEOMETRY {{{

% Golden ratio proportions on crown quarto with marginpar inside
%\RequirePackage[includemp,
			%paperwidth=18.90cm,
			%paperheight=24.58cm,
			%top=2.170cm,
			%bottom=3.510cm,
			%inner=2.1835cm,
			%outer=2.1835cm,
			%marginparwidth=4cm, % Fixed for now
			%marginparsep=0.4cm]{geometry}

% For full bleed printing on crown quarto with 1/8 inch trim margin
% \RequirePackage[includemp,
%             paperwidth=19.54cm,
%             paperheight=25.22cm,
%             % showframe,
%             layoutwidth=18.90cm,
%             layoutheight=24.58cm,
%             layouthoffset=0.32cm,
%             layoutvoffset=0.32cm,
%             top=2.170cm,
%             bottom=3.510cm,
%             inner=2.1835cm,
%             outer=2.1835cm,
%             marginparwidth=4cm, % Fixed for now
%             marginparsep=0.4cm]{geometry}

% For printing on A4
\usepackage[includemp,
			 a4paper,
			 paperwidth=21.0cm,
			 paperheight=29.7cm,
			 %layouthoffset=1.05cm,
			 %layoutvoffset=2.56cm,
			 top=2.620cm,
			 bottom=4.238cm,
			 inner=2.183cm,
			 outer=2.183cm,
			 marginparwidth=4.830cm, % Fixed for now
			 marginparsep=0.483cm]{geometry}

% }}}

% FONTS {{{

\ifxetex
  \RequirePackage{polyglossia}			% Correct hyphenation
  \setdefaultlanguage{english}
  \RequirePackage{fontspec}				% Selecting fonts

  \geometry{xetex}

  \setmainfont{texgyrepagella-regular.otf}[
	Ligatures=TeX,
	Numbers=Lining,
	BoldFont=texgyrepagella-bold.otf,
	ItalicFont=texgyrepagella-italic.otf,
	BoldItalicFont=texgyrepagella-bolditalic.otf,
  ]
  \setmonofont{Nimbus Mono PS}[
	%Path=../fonts/,
	Scale=MatchLowercase,
	%BoldFont=CourierPrime-Bold,
	%ItalicFont=CourierPrime-Italic,
	%BoldItalicFont=CourierPrime-BoldItalic,
  ]

  \newfontfamily\fanciestfont[
	%Path=../fonts/,
	Ligatures={TeX,Discretionary},
	%Scale=MatchLowerCase,
  ]{Cantarell}
  \newfontfamily\fancyfont[
	%Path=../fonts/,
	Ligatures=TeX,
  ]{Cantarell}
  \newfontfamily\chapternumberfont[
	%Path=../fonts/,
	Ligatures=TeX,
	Numbers=Lining
  ]{Cantarell}

  \addtokomafont{disposition}{\fancyfont}
  \addtokomafont{part}{\Huge}
  \addtokomafont{title}{\fanciestfont}
  \addtokomafont{chapter}{\fanciestfont}
  \addtokomafont{chapterentry}{\normalfont\scshape}
  \addtokomafont{descriptionlabel}{\normalfont\bfseries}
  \addtokomafont{caption}{\footnotesize}

\else
  \RequirePackage[english]{babel}	% Load characters and hyphenation
  \RequirePackage[T1]{fontenc}		% utf8 encoding in the output (.pdf) file
  \RequirePackage{mathpazo}
  \RequirePackage{helvet}


  %\addtokomafont{disposition}{\textit}
  %\addtokomafont{part}{\Huge}
  %\addtokomafont{title}{\Huge}
  %\addtokomafont{chapter}{\textit}
  %\addtokomafont{section}{\textit}
  %\addtokomafont{partentry}{\normalfont\scshape}
  %\addtokomafont{chapterentry}{\normalfont\scshape}
  \setkomafont{descriptionlabel}{\normalfont\bfseries}
  %\addtokomafont{caption}{\footnotesize}
  %\makeatletter
  %\addtokomafont{captionlabel}{\@margin@par}
  %\makeatother

\fi

% }}}

% TOC, LOF AND LOT {{{

% Levels in table of contents
\setcounter{tocdepth}{\subsectiontocdepth}

% List of figures title as "Figures"
\renewcaptionname{english}{\listfigurename}{Figures}
\renewcaptionname{english}{\listtablename}{Tables}

% Table of contents styles
%\newlength{\alignviiilength}
%\setlength{\alignviiilength}{7.5mm}
%\newlength{\alignxlength}
%\setlength{\alignxlength}{8.5mm}
%\renewcommand{\cftdotsep}{\cftnodots}
%\renewcommand{\cftpnumalign}{l}

%\setlength{\cftpartnumwidth}{\alignviiilength}
%\renewcommand{\cftpartfont}{\LARGE\hypersetup{allcolors=black}}
%\renewcommand{\cftpartpagefont}{\LARGE}

%\setlength{\cftchapnumwidth}{\alignviiilength}
%\renewcommand{\cftchapfont}{\large\hypersetup{allcolors=black}}
%% \renewcommand{\cftchapleader}{\hspace{1em}}
%\renewcommand{\cftchappagefont}{\large}
%% \renewcommand{\cftchapafterpnum}{\cftparfillskip}

%\setlength{\cftsecnumwidth}{\alignviiilength}
%\renewcommand{\cftsecfont}{\hypersetup{allcolors=black}}
%\setlength{\cftsecindent}{\alignviiilength}
%\renewcommand{\cftsecleader}{\hspace{1em}}
%% \renewcommand{\cftsecpagefont}{\normalfont\color{greenforlinks}}
%\renewcommand{\cftsecafterpnum}{\cftparfillskip}

%\setlength{\cftfigindent}{0mm}
%\renewcommand{\cftfigfont}{\hypersetup{allcolors=black}}
%\setlength{\cftfignumwidth}{\alignxlength}
%\renewcommand{\cftfigleader}{\hspace{1em}}
%\renewcommand{\cftfigafterpnum}{\cftparfillskip}

%\setlength{\cfttabindent}{0mm}
%\setlength{\cfttabnumwidth}{\alignxlength}
%\renewcommand{\cfttabfont}{\hypersetup{allcolors=black}}
%\renewcommand{\cfttableader}{\hspace{1em}}
%\renewcommand{\cfttabafterpnum}{\cftparfillskip}

% }}}
